[gd_scene load_steps=18 format=4 uid="uid://bhasarf4km7cm"]

[ext_resource type="PackedScene" uid="uid://cghyuac40ovqb" path="res://prefabs/basic_enemy.tscn" id="1_4w45t"]
[ext_resource type="Script" uid="uid://bkt8ss3yij3sy" path="res://src/EntityStats.cs" id="3_mngbo"]
[ext_resource type="Script" uid="uid://bcj0kn7emt0o6" path="res://src/Attacks/HorseAttack.cs" id="5_18nlu"]
[ext_resource type="Script" uid="uid://dd5dwbly8qp80" path="res://src/EntityManager.cs" id="5_rt2n2"]
[ext_resource type="Script" uid="uid://bkae0lloh5ksm" path="res://src/Attacks/TestAttacks.cs" id="6_mngbo"]
[ext_resource type="Script" uid="uid://cox568iv3d5e7" path="res://src/PlayerAction.cs" id="7_c1pb6"]
[ext_resource type="Script" uid="uid://bd046eokvcnu2" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="9_e1cbu"]
[ext_resource type="Texture2D" uid="uid://c6c2ao3chmm0c" path="res://assets/sprites/Test_Player.png" id="10_6wevv"]
[ext_resource type="Script" uid="uid://bhexx6mj1xv3q" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2d.gd" id="10_mngbo"]
[ext_resource type="Script" uid="uid://8umksf8e80fw" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="11_e1cbu"]
[ext_resource type="Shader" uid="uid://cqqokul14psc" path="res://src/shaders/test.gdshader" id="12_4w45t"]
[ext_resource type="TileSet" uid="uid://cgglo8ysjk0tk" path="res://prefabs/Tileset.tres" id="13_r6p65"]
[ext_resource type="Script" uid="uid://bmit0ga5dsfe7" path="res://src/LevelSetup.cs" id="14_r6p65"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_r6p65"]
shader = ExtResource("12_4w45t")
shader_parameter/colorR = 1.0
shader_parameter/colorG = 0.0
shader_parameter/colorB = 1.0
shader_parameter/colorA = 1.0
shader_parameter/frequency = 10.0
shader_parameter/speed = 5.0
shader_parameter/amplitude = 0.1

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_mngbo"]
bg_color = Color(0.21, 0.21, 0.21, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_4w45t"]
bg_color = Color(0.27583897, 0.7118056, 0, 1)

[sub_resource type="Resource" id="Resource_mngbo"]
script = ExtResource("11_e1cbu")

[node name="Node2D" type="Node2D"]

[node name="Entities" type="Node2D" parent="."]

[node name="Player" type="Node2D" parent="Entities" groups=["Entity", "Player"]]
position = Vector2(-112, 72)

[node name="TestPlayer" type="Sprite2D" parent="Entities/Player"]
z_index = 20
material = SubResource("ShaderMaterial_r6p65")
position = Vector2(0, -12)
texture = ExtResource("10_6wevv")

[node name="EntityStats" type="Node" parent="Entities/Player"]
script = ExtResource("3_mngbo")
EntityName = "Player"
GridPosition = Vector2i(0, 8)
MaxHealth = 5
Health = 5
Speed = 7
EntityType = 1

[node name="EntityAction" type="Node" parent="Entities/Player"]
script = ExtResource("7_c1pb6")

[node name="Attack" type="Node" parent="Entities/Player/EntityAction"]
script = ExtResource("5_18nlu")

[node name="Control" type="Control" parent="Entities/Player"]
z_index = 20
layout_mode = 3
anchors_preset = 0
offset_left = -20.0
offset_top = -50.0
offset_right = 20.0
offset_bottom = -10.0

[node name="ProgressBar" type="ProgressBar" parent="Entities/Player/Control"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -2.0
offset_right = 20.0
offset_bottom = 2.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxFlat_mngbo")
theme_override_styles/fill = SubResource("StyleBoxFlat_4w45t")
max_value = 5.0
value = 5.0
show_percentage = false
metadata/_edit_use_anchors_ = true

[node name="Player2" type="Node2D" parent="Entities" groups=["Entity", "Player"]]
position = Vector2(112, 72)

[node name="TestPlayer" type="Sprite2D" parent="Entities/Player2"]
z_index = 20
material = SubResource("ShaderMaterial_r6p65")
position = Vector2(0, -12)
texture = ExtResource("10_6wevv")

[node name="EntityStats" type="Node" parent="Entities/Player2"]
script = ExtResource("3_mngbo")
EntityName = "Player"
GridPosition = Vector2i(7, 1)
MaxHealth = 5
Health = 1
Speed = 6
EntityType = 1

[node name="EntityAction" type="Node" parent="Entities/Player2"]
script = ExtResource("7_c1pb6")

[node name="Attack" type="Node" parent="Entities/Player2/EntityAction"]
script = ExtResource("5_18nlu")

[node name="Attacks" type="Node" parent="Entities/Player2/EntityAction"]
script = ExtResource("6_mngbo")

[node name="Control" type="Control" parent="Entities/Player2"]
z_index = 20
layout_mode = 3
anchors_preset = 0
offset_left = -20.0
offset_top = -50.0
offset_right = 20.0
offset_bottom = -10.0

[node name="ProgressBar" type="ProgressBar" parent="Entities/Player2/Control"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -2.0
offset_right = 20.0
offset_bottom = 2.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxFlat_mngbo")
theme_override_styles/fill = SubResource("StyleBoxFlat_4w45t")
max_value = 5.0
value = 1.0
show_percentage = false
metadata/_edit_use_anchors_ = true

[node name="TilemapLayers" type="Node2D" parent="."]

[node name="GroundLayer" type="TileMapLayer" parent="TilemapLayers" groups=["Tilemap"]]
tile_map_data = PackedByteArray("AAD9//7/AAAAAAAAAAD+////AAAAAAAAAAD//wAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAIAAAAAAAAAAAD+//7/AAAAAAAAAAABAP7/AAAAAAAAAAAAAP//AAAAAAAAAAD+/wEAAAAAAAAAAAD9/wIAAAAAAAAAAAD9/wEAAAAAAAAAAAD9/wAAAAAAAAAAAAD9////AAAAAAAAAAD+/wAAAAAAAAAAAAD+/wIAAAAAAAAAAAD//wIAAAAAAAAAAAAAAAIAAAAAAAAAAAABAAEAAAAAAAAAAAABAAAAAAAAAAAAAAABAP//AAAAAAAAAAAAAAAAAAAAAAAAAAD//wEAAAAAAAAAAAD/////AAAAAAAAAAD///7/AAAAAAAAAAAAAP7/AAAAAAAAAAD7//z/AAAAAAAAAAD8//z/AAAAAAAAAAD9//z/AAAAAAAAAAD+//z/AAAAAAAAAAD///z/AAAAAAAAAAAAAPz/AAAAAAAAAAD7//3/AAAAAAAAAAD7//7/AAAAAAAAAAD7////AAAAAAAAAAD7/wAAAAAAAAAAAAD7/wEAAAAAAAAAAAD+/wQAAAAAAAAAAAD//wQAAAAAAAAAAAD//wUAAAAAAAAAAAAAAAQAAAAAAAAAAAABAAQAAAAAAAAAAAACAAQAAAAAAAAAAAD+/wUAAAAAAAAAAAAAAAUAAAAAAAAAAAABAAUAAAAAAAAAAAACAAUAAAAAAAAAAAADAAMAAAAAAAAAAAADAAIAAAAAAAAAAAADAAEAAAAAAAAAAAADAAAAAAAAAAAAAAADAP//AAAAAAAAAAAEAP//AAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAD//wcAAAAAAAAAAAAAAAcAAAAAAAAAAAABAAcAAAAAAAAAAAD//wgAAAAAAAAAAAAAAAgAAAAAAAAAAAABAAgAAAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAIAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAAAAAAAAAAAAAD7//v/AAAAAAAAAAD7//r/AAAAAAAAAAD7//n/AAAAAAAAAAD6//n/AAAAAAAAAAD7//j/AAAAAAAAAAD6//j/AAAAAAAAAAD7//f/AAAAAAAAAAD7//b/AAAAAAAAAAD8//b/AAAAAAAAAAD9//b/AAAAAAAAAAD+//b/AAAAAAAAAAD+//f/AAAAAAAAAAD///f/AAAAAAAAAAD///b/AAAAAAAAAAAAAPb/AAAAAAAAAAAAAPf/AAAAAAAAAAAAAPv/AAAAAAAAAAAAAPr/AAAAAAAAAAAAAPn/AAAAAAAAAAAAAPj/AAAAAAAAAAD///j/AAAAAAAAAAD+//j/AAAAAAAAAAD+//n/AAAAAAAAAAD+//r/AAAAAAAAAAD///r/AAAAAAAAAAD///n/AAAAAAAAAAD///v/AAAAAAAAAAD+//v/AAAAAAAAAAD9//v/AAAAAAAAAAD8//v/AAAAAAAAAAD8//r/AAAAAAAAAAD8//n/AAAAAAAAAAD8//j/AAAAAAAAAAD8//f/AAAAAAAAAAD9//f/AAAAAAAAAAD9//j/AAAAAAAAAAD9//n/AAAAAAAAAAD9//r/AAAAAAAAAAD6//b/AAAAAAAAAAD5//b/AAAAAAAAAAD4//b/AAAAAAAAAAD3//b/AAAAAAAAAAD2//b/AAAAAAAAAAD6/wEAAAAAAAAAAAD5/wEAAAAAAAAAAAD5/wAAAAAAAAAAAAD4/wAAAAAAAAAAAAD4////AAAAAAAAAAD3////AAAAAAAAAAD3//7/AAAAAAAAAAD2//7/AAAAAAAAAAD2//3/AAAAAAAAAAD2//z/AAAAAAAAAAD2//v/AAAAAAAAAAD2//r/AAAAAAAAAAD2//n/AAAAAAAAAAD3//n/AAAAAAAAAAD3//j/AAAAAAAAAAD2//j/AAAAAAAAAAD2//f/AAAAAAAAAAD2////AAAAAAAAAAD2/wAAAAAAAAAAAAD2/wEAAAAAAAAAAAD3/wEAAAAAAAAAAAD4/wEAAAAAAAAAAAD3/wAAAAAAAAAAAAD4//3/AAAAAAAAAAD4//z/AAAAAAAAAAD4//v/AAAAAAAAAAD5//z/AAAAAAAAAAD5//3/AAAAAAAAAAD5//7/AAAAAAAAAAD5////AAAAAAAAAAD6////AAAAAAAAAAD6/wAAAAAAAAAAAAD6//7/AAAAAAAAAAD6//3/AAAAAAAAAAD6//z/AAAAAAAAAAD6//v/AAAAAAAAAAD6//r/AAAAAAAAAAD5//n/AAAAAAAAAAD5//j/AAAAAAAAAAD6//f/AAAAAAAAAAD5//f/AAAAAAAAAAD4//f/AAAAAAAAAAD3//f/AAAAAAAAAAD4//j/AAAAAAAAAAD4//n/AAAAAAAAAAD5//r/AAAAAAAAAAD5//v/AAAAAAAAAAD4//r/AAAAAAAAAAD3//r/AAAAAAAAAAD3//v/AAAAAAAAAAD3//z/AAAAAAAAAAD3//3/AAAAAAAAAAD4//7/AAAAAAAAAAD1//b/AAAAAAAAAAD1//f/AAAAAAAAAAD1//j/AAAAAAAAAAD1//n/AAAAAAAAAAD1//r/AAAAAAAAAAD1//v/AAAAAAAAAAD1//z/AAAAAAAAAAD1//3/AAAAAAAAAAD1//7/AAAAAAAAAAD1////AAAAAAAAAAD1/wAAAAAAAAAAAAD1/wEAAAAAAAAAAADz//j/AAAAAAAAAADz//n/AAAAAAAAAADz//r/AAAAAAAAAADz//v/AAAAAAAAAADz//z/AAAAAAAAAADz//3/AAAAAAAAAADz//7/AAAAAAAAAADy//7/AAAAAAAAAADy//3/AAAAAAAAAADy//z/AAAAAAAAAADy//v/AAAAAAAAAADy//r/AAAAAAAAAADy//n/AAAAAAAAAADy//j/AAAAAAAAAADx//j/AAAAAAAAAADx//n/AAAAAAAAAADx//r/AAAAAAAAAADx//v/AAAAAAAAAADx//z/AAAAAAAAAADx//3/AAAAAAAAAADx//7/AAAAAAAAAADw//7/AAAAAAAAAADw//3/AAAAAAAAAADw//z/AAAAAAAAAADv//z/AAAAAAAAAADw//v/AAAAAAAAAADw//r/AAAAAAAAAADw//n/AAAAAAAAAADw//j/AAAAAAAAAADv//j/AAAAAAAAAADv//n/AAAAAAAAAADv//r/AAAAAAAAAADv//v/AAAAAAAAAADv//3/AAAAAAAAAADv//7/AAAAAAAAAAD3//T/AAAAAAAAAAD4//T/AAAAAAAAAAD5//T/AAAAAAAAAAD6//T/AAAAAAAAAAD7//T/AAAAAAAAAAD8//T/AAAAAAAAAAD9//T/AAAAAAAAAAD3//P/AAAAAAAAAAD4//P/AAAAAAAAAAD5//P/AAAAAAAAAAD6//P/AAAAAAAAAAD7//P/AAAAAAAAAAD8//P/AAAAAAAAAAD9//P/AAAAAAAAAAD9//L/AAAAAAAAAAD8//L/AAAAAAAAAAD7//L/AAAAAAAAAAD6//L/AAAAAAAAAAD5//L/AAAAAAAAAAD4//L/AAAAAAAAAAD3//L/AAAAAAAAAAD3//H/AAAAAAAAAAD4//H/AAAAAAAAAAD5//H/AAAAAAAAAAD6//H/AAAAAAAAAAD7//H/AAAAAAAAAAD8//H/AAAAAAAAAAD9//H/AAAAAAAAAAD3//D/AAAAAAAAAAD4//D/AAAAAAAAAAD5//D/AAAAAAAAAAD6//D/AAAAAAAAAAD7//D/AAAAAAAAAAD8//D/AAAAAAAAAAD9//D/AAAAAAAAAADx//b/AAAAAAAAAADw//b/AAAAAAAAAADv//b/AAAAAAAAAADv//X/AAAAAAAAAADw//X/AAAAAAAAAADx//X/AAAAAAAAAADx//T/AAAAAAAAAADw//T/AAAAAAAAAADv//T/AAAAAAAAAADv//P/AAAAAAAAAADw//P/AAAAAAAAAADx//P/AAAAAAAAAAD1//L/AAAAAAAAAAD1//H/AAAAAAAAAAD1//D/AAAAAAAAAAD0//D/AAAAAAAAAAD0//H/AAAAAAAAAAD0//L/AAAAAAAAAADz//D/AAAAAAAAAADz//H/AAAAAAAAAADz//L/AAAAAAAAAADy//L/AAAAAAAAAADy//D/AAAAAAAAAADw//H/AAAAAAAAAADv//H/AAAAAAAAAADu//H/AAAAAAAAAADw//D/AAAAAAAAAADw/+//AAAAAAAAAADu/+//AAAAAAAAAADu//D/AAAAAAAAAADv//D/AAAAAAAAAADv/+//AAAAAAAAAADt/+7/AAAAAAAAAADt/+3/AAAAAAAAAADs/+3/AAAAAAAAAADs/+7/AAAAAAAAAADt/+//AAAAAAAAAADt//D/AAAAAAAAAADt//H/AAAAAAAAAADs//H/AAAAAAAAAADs//D/AAAAAAAAAADs/+//AAAAAAAAAADu/+3/AAAAAAAAAADv/+3/AAAAAAAAAADv/+7/AAAAAAAAAADu/+7/AAAAAAAAAADw/+7/AAAAAAAAAADw/+3/AAAAAAAAAAD//wYAAAAAAAMAAAD+/wMAAAAAAAMAAAAAAAMAAAAAAAMAAAD//wMAAAAAAAMAAAACAAEAAAACAAMAAAACAAAAAAACAAMAAAACAP//AAACAAMAAAAFAAAAAAACAAMAAAD8////AAACAAMAAAD8/wAAAAACAAMAAAD8//7/AAACAAMAAAD9//3/AAAAAAMAAAD+//3/AAAAAAMAAAD///3/AAAAAAMAAAD5//X/AAAAAAMAAAD6//X/AAAAAAMAAAD7//X/AAAAAAMAAADw//f/AAAAAAMAAADv//L/AAAAAAMAAADy//H/AAAAAAAAAADx//D/AAACAAMAAAD2//H/AAACAAMAAAD0//v/AAACAAMAAAD0//r/AAACAAMAAAD0//z/AAACAAMAAAA=")
tile_set = ExtResource("13_r6p65")

[node name="HighlightLayer" type="TileMapLayer" parent="TilemapLayers" groups=["Tilemap"]]
tile_set = ExtResource("13_r6p65")

[node name="CursorLayer" type="TileMapLayer" parent="TilemapLayers" groups=["Tilemap"]]
tile_set = ExtResource("13_r6p65")

[node name="ObjectLayer" type="TileMapLayer" parent="TilemapLayers" groups=["Tilemap"]]
tile_set = ExtResource("13_r6p65")

[node name="EntityManager" type="Node" parent="."]
script = ExtResource("5_rt2n2")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(-208, -136)
zoom = Vector2(2, 2)
editor_draw_limits = true

[node name="PhantomCameraHost" type="Node" parent="Camera2D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("9_e1cbu")
metadata/_custom_type_script = "uid://bd046eokvcnu2"

[node name="PhantomCamera2D" type="Node2D" parent="."]
unique_name_in_owner = true
top_level = true
position = Vector2(-208, -136)
script = ExtResource("10_mngbo")
follow_mode = 3
zoom = Vector2(2, 2)
tween_resource = SubResource("Resource_mngbo")
tween_on_load = false
follow_damping = true
follow_damping_value = Vector2(0.3, 0.3)
auto_zoom_min = 0.3
auto_zoom_max = 3.0
auto_zoom_margin = Vector4(50, 50, 50, 50)
draw_limits = true
metadata/_custom_type_script = "uid://bhexx6mj1xv3q"

[node name="LevelSetup" type="Node" parent="."]
script = ExtResource("14_r6p65")
EnemyCount = 6
Enemies = Array[PackedScene]([ExtResource("1_4w45t")])
